# 选课系统 - 学习文档

欢迎阅读选课系统的学习文档，本文档将帮助你快速了解项目架构、各模块功能以及开发运维知识。

---

## 快速启动

### 环境要求

| 组件 | 版本要求 |
|------|----------|
| Go | 1.24+ |
| MySQL | 8.0+ |
| Redis | 7.x+ |
| RocketMQ | 4.9+ (可选) |

### 方式一：Docker Compose (推荐)

```bash
# 1. 启动所有服务
docker-compose up -d

# 2. 等待服务启动 (约 30 秒)
sleep 30

# 3. 验证服务状态
docker-compose ps

# 4. 访问 API
curl http://localhost:8080/health
```

**服务端口**:
| 服务 | 端口 | 地址 |
|------|------|------|
| API | 8080 | http://localhost:8080 |
| MySQL | 3306 | localhost:3306 |
| Redis | 6379 | localhost:6379 |
| RocketMQ Console | 8081 | http://localhost:8081 |

### 方式二：本地运行

```bash
# 1. 安装依赖
go mod download

# 2. 配置环境变量
export DB_PASSWORD="your_password"
export REDIS_PASSWORD="your_password"
export SESSION_KEY="your_session_key"

# 3. 编译项目
go build -o server.exe .

# 4. 运行服务
./server.exe
```

### 5. 运行测试

```bash
# 运行所有测试
go test ./test/... -v

# 运行单元测试
go test ./test/unit/... -v
```

### 默认账号

| 角色 | username | password |
|------|----------|----------|
| 管理员 | admin | admin123 |
| 教师 | teacher01 | teacher123 |
| 学生 | student01 | student123 |

---

## 文档目录

### 入门指南

| 文档 | 说明 |
|------|------|
| [01-项目概述](01-项目概述.md) | 项目简介、技术栈、功能模块、API 概览 |
| [02-项目架构详解](02-项目架构详解.md) | Clean Architecture 分层设计、依赖注入、请求处理流程 |

### 核心模块

| 文档 | 说明 |
|------|------|
| [03-认证模块详解](03-认证模块详解.md) | Session 管理、权限验证中间件、密码安全 |
| [04-成员管理模块](04-成员管理模块.md) | 用户 CRUD、软删除、仓储模式实现 |
| [05-课程管理模块](05-课程管理模块.md) | 课程 CRUD、教师绑定/解绑、业务规则 |
| [06-选课模块详解](06-选课模块详解.md) | 高并发处理、Redis 原子操作、消息队列 |

### 基础设施

| 文档 | 说明 |
|------|------|
| [07-基础设施层详解](07-基础设施层详解.md) | MySQL/GORM、Redis、RocketMQ、加密工具 |
| [08-部署与运维](08-部署与运维.md) | Docker Compose 部署、配置说明、监控调优 |

### API 参考

| 文档 | 说明 |
|------|------|
| [09-API接口完整文档](09-API接口完整文档.md) | 所有 API 的完整请求/响应格式、参数说明 |
| [10-错误码完整列表](10-错误码完整列表.md) | 系统所有错误码及处理建议 |

### 数据库

| 文档 | 说明 |
|------|------|
| [11-数据库设计详解](11-数据库设计详解.md) | 表结构、视图、索引、Redis 缓存结构 |

### 测试

| 文档 | 说明 |
|------|------|
| [12-测试指南](12-测试指南.md) | 单元测试、负载测试、CI 配置 |

---

## 推荐阅读顺序

```
1. 先了解项目整体
   └─ 01-项目概述 → 02-项目架构详解

2. 学习核心模块
   ├─ 03-认证模块 (所有模块的基础)
   ├─ 04-成员管理模块
   ├─ 05-课程管理模块
   └─ 06-选课模块 (高并发重点)

3. 深入技术实现
   └─ 07-基础设施层详解

4. 实战应用
   ├─ 08-部署与运维
   ├─ 11-数据库设计详解
   └─ 12-测试指南

5. 查阅参考
   ├─ 09-API接口完整文档
   └─ 10-错误码完整列表
```

---

## 技术栈

| 层级 | 技术 |
|------|------|
| 语言 | Go 1.24 |
| Web 框架 | Gin 1.9 |
| ORM | GORM 1.25 |
| 数据库 | MySQL 8.0 |
| 缓存 | Redis 7.x |
| 消息队列 | RocketMQ 4.9 |
| 部署 | Docker + Docker Compose |
| 配置 | Viper |
| 日志 | Zap |

---

## 核心功能

- **用户认证**: Session + Redis 存储，支持管理员/教师/学生三种角色
- **成员管理**: 用户 CRUD，支持软删除
- **课程管理**: 课程创建、教师绑定/解绑
- **选课服务**: 高并发场景处理，Redis 原子操作 + 消息队列

---

## 相关链接

- **项目仓库**: [GitHub Repository](https://github.com/your-repo)
- **问题反馈**: [Issues](https://github.com/your-repo/issues)

---

## 更新日志

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| v1.0.0 | 2024-01-12 | 初始版本，12篇文档 |

---

> 最后更新: 2024-01-12
